module.exports=__NEXT_REGISTER_PAGE("/menu",function(){var e=webpackJsonp([19],{198:function(e,t,r){"use strict";var n=r(13);var a=r.n(n);var c=r(0);var u=r.n(c);var o=r(15);var s=r.n(o);var i=r(8);var p=r.n(i);var l=r(2);var f=r.n(l);var v=r(7);var b=r.n(v);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){x(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"render",value:function e(){return u.a.createElement("div",{className:"ldr-wrpr"},u.a.createElement("img",{src:v["endpoints"].staticAsset+"/loader.gif"}))}}]);return t}(c["Component"]);var O=y;var j=r(26);var g=r(175);var k=r(76);var w=r(36);var _=r(39);var E=r(10);var P=r(9);var I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function R(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,c){try{var u=t[a](c);var o=u.value}catch(e){r(e);return}if(!u.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=s()(new(r(15).SameLoopPromise)(function(e,t){var n=380;try{var a=r(n);return e(a)}catch(e){}r.e(5).then(function(n){try{var a=r(380);a.__webpackChunkName="app_components_templates_Menu_07635d69c36ae10635fd627566439f7a";e(a)}catch(e){t(e)}}.bind(null,r)).catch(r.oe)}),{ssr:false,loading:function e(){return u.a.createElement(O,null)}});var D=s()(new(r(15).SameLoopPromise)(function(e,t){var n=102;try{var a=r(n);return e(a)}catch(e){}r.e(4).then(function(n){try{var a=r(102);a.__webpackChunkName="app_components_templates_Customise_b1cbf20c85a3105a5397f7e1c5009577";e(a)}catch(e){t(e)}}.bind(null,r)).catch(r.oe)}),{ssr:false});var q=s()(new(r(15).SameLoopPromise)(function(e,t){var n=368;try{var a=r(n);return e(a)}catch(e){}r.e(6).then(function(n){try{var a=r(368);a.__webpackChunkName="app_components_templates_Edv_0f46c529c92024bf2a92f566ea218642";e(a)}catch(e){t(e)}}.bind(null,r)).catch(r.oe)}),{ssr:false});var N=function(e){S(t,e);function t(){A(this,t);return T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}I(t,[{key:"componentWillReceiveProps",value:function e(t){var r=t.pathname,n=t.storeId;var a=new Date;a.setTime(a.getTime()+216e5);"/menu"===r&&Object(E["j"])("menuExpire")!==n&&Object(E["v"])("menuExpire",n,{expires:a})}},{key:"render",value:function e(){var t=this.props,r=t.pathname,n=t.isServer;var a={edv:q,menu:C,customise:D,track:C,trackOrder:C};var c=void 0;c=n?r:p.a.pathname;var o=c?c.substr(1):"menu";var s=a[o];return u.a.createElement("div",null,s?u.a.createElement(s,this.props):null)}}],[{key:"getInitialProps",value:function(){var e=R(a.a.mark(function e(t){var r=t.store,n=t.currentStack,c=t.req,u=t.isServer;var o,s,i,p,l;return a.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:o=[];s=Object(E["j"])("storeId",c);i="undefined"!==s&&"null"!==s&&s?s:P["h"];p=Object(E["j"])("menuExpire",c);l=f()(r.getState(),"menu.MenuData.data",[]).length;l&&p===i||(o=[w["b"],w["d"]]);o.map(function(e){return r.dispatch(e(n))});case 7:case"end":return t.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]);return t}(c["Component"]);var M=function e(t){return{pathname:f()(t,"globalBlackList.params.pathname",""),edvData:f()(t,"edvData",""),menuData:f()(t,"MenuData",""),storeId:f()(t,"global.storeId",null)}};var B=function e(t){return{getEdv:function e(r){return t(Object(_["a"])(r))},getMenu:function e(r){return t(Object(w["b"])(r))},getToppings:function e(r){return t(Object(w["d"])(r))}}};var L=Object(j["a"])(N,{key:"menu",mapStateToProps:M,mapDispatchToProps:B,reducer:g["a"],saga:k["a"],isQuery:true,initialActions:[],executeGetInitialProps:true});r.d(t,"a",function(){return L})},39:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return c});r.d(t,"c",function(){return u});r.d(t,"d",function(){return o});r.d(t,"e",function(){return s});var n=r(37);var a=function e(t){return{type:n["a"],query:t}};var c=function e(t){return{type:n["b"],data:t}};var u=function e(t){return{type:n["c"],data:t}};var o=function e(t){return{type:n["d"],data:t}};var s=function e(t){return{type:n["m"],data:t}};var i=[a]},76:function(e,t,r){"use strict";t["a"]=L;var n=r(13);var a=r.n(n);var c=r(22);var u=r(58);var o=r.n(u);var s=r(80);var i=r.n(s);var p=r(2);var l=r.n(p);var f=r(7);var v=r.n(f);var b=r(36);var d=r(39);var h=r(37);var m=r(51);var x=r(12);var y=r(4);var O=r(28);var j=r(9);var g=a.a.mark(D),k=a.a.mark(q),w=a.a.mark(N),_=a.a.mark(M),E=a.a.mark(B),P=a.a.mark(L);var I=null;var R=null;var A=o()(),T=A.publicRuntimeConfig;var S=T.API_END_POINT;var C=function e(t){return{categoryName:y["h"].edvCategoryName,categoryId:y["h"].edvCategoryId,categoryType:0,data:t}};function D(e){var t,r,n,u,o,s,p;return a.a.wrap(function a(v){while(1)switch(v.prev=v.next){case 0:v.prev=0;t=l()(e,"query.urlParam.$storeId");v.next=4;return Object(c["a"])(f["API"].get,f["apiRegistry"].buildApiUrl(h["e"],e.query));case 4:r=v.sent;if(!(t===j["h"])){v.next=11;break}v.next=8;return i()(f["endpoints"][S].domain+"/static/fallBackData/menu.json").then(function(e){return e.data});case 8:v.t0=v.sent;v.next=14;break;case 11:v.next=13;return Object(O["a"])(r.apiEndpoint,r.params);case 13:v.t0=v.sent;case 14:n=v.t0;if(!(n&&n.data&&Array.isArray(n.data))){v.next=40;break}v.next=18;return Object(c["a"])(f["API"].get,f["apiRegistry"].buildApiUrl(h["a"],e.query));case 18:u=v.sent;if(!(t===j["h"])){v.next=25;break}v.next=22;return i()(f["endpoints"][S].domain+"/static/fallBackData/edv.json").then(function(e){return e.data});case 22:v.t1=v.sent;v.next=28;break;case 25:v.next=27;return Object(O["a"])(u.apiEndpoint,u.params)||{};case 27:v.t1=v.sent;case 28:o=v.t1;n.data.splice(y["h"].edvPosInHeader-1,0,C(o.data||[]));v.next=32;return Object(c["b"])(Object(b["c"])(n,e.menuLoaded));case 32:I=n.data;if(!(I&&R)){v.next=38;break}v.next=36;return Object(c["b"])(Object(x["K"])(I,R));case 36:I=null;R=null;case 38:v.next=44;break;case 40:s=y["e"].internalServerError;p={message:s,headerText:y["e"].ops,rightCTAText:y["e"].ok};v.next=44;return Object(c["b"])(Object(x["I"])(p));case 44:v.next=54;break;case 46:v.prev=46;v.t2=v["catch"](0);if(!(v.t2!==m["b"])){v.next=52;break}console.log("Error in Get Menu Saga",v.t2);v.next=54;break;case 52:v.next=54;return Object(c["b"])(Object(b["c"])({response:m["b"]}));case 54:case"end":return v.stop()}},g,this,[[0,46]])}function q(e){var t,r,n;return a.a.wrap(function a(u){while(1)switch(u.prev=u.next){case 0:u.prev=0;t=l()(e,"query.urlParam.$storeId");u.next=4;return Object(c["a"])(f["API"].get,f["apiRegistry"].buildApiUrl(h["g"],e.query));case 4:r=u.sent;if(!(t===j["h"])){u.next=11;break}u.next=8;return i()(f["endpoints"][S].domain+"/static/fallBackData/topping.json").then(function(e){return e.data});case 8:u.t0=u.sent;u.next=14;break;case 11:u.next=13;return Object(O["a"])(r.apiEndpoint,r.params);case 13:u.t0=u.sent;case 14:n=u.t0;u.next=17;return Object(c["b"])(Object(b["e"])(n,e.toppingLoaded));case 17:R=n.data;if(!(I&&R)){u.next=23;break}u.next=21;return Object(c["b"])(Object(x["K"])(I,R));case 21:I=null;R=null;case 23:u.next=33;break;case 25:u.prev=25;u.t1=u["catch"](0);if(!(u.t1!==m["b"])){u.next=31;break}console.log("Error in Toppings Saga",u.t1);u.next=33;break;case 31:u.next=33;return Object(c["b"])(Object(b["e"])({response:m["b"]}));case 33:case"end":return u.stop()}},k,this,[[0,25]])}function N(e){var t,r,n,u;return a.a.wrap(function a(o){while(1)switch(o.prev=o.next){case 0:o.prev=0;t=l()(e,"query.urlParam.$storeId");o.next=4;return Object(c["a"])(f["API"].get,f["apiRegistry"].buildApiUrl(h["a"],e.query));case 4:r=o.sent;if(!(t===j["h"])){o.next=11;break}o.next=8;return i()(f["endpoints"][S].domain+"/static/fallBackData/edv.json").then(function(e){return e.data});case 8:o.t0=o.sent;o.next=14;break;case 11:o.next=13;return Object(O["a"])(r.apiEndpoint,r.params);case 13:o.t0=o.sent;case 14:n=o.t0;u={};u[e.query.urlParam.$storeId]=n;o.next=19;return Object(c["b"])(Object(d["d"])(u));case 19:o.next=24;break;case 21:o.prev=21;o.t1=o["catch"](0);console.log("ERROR in get Edv saga call",o.t1);case 24:case"end":return o.stop()}},w,this,[[0,21]])}function M(e){var t,r,n;return a.a.wrap(function a(u){while(1)switch(u.prev=u.next){case 0:u.prev=0;u.next=3;return Object(c["b"])(Object(x["J"])(true));case 3:t="/"+f["endpoints"].s3Bucket[S]+"/v1"+e.data;u.next=6;return Object(c["a"])(f["API"].get,t,void 0,true);case 6:r=u.sent;u.next=9;return Object(O["a"])(r.apiEndpoint,r.params);case 9:n=u.sent;u.next=12;return Object(c["b"])(Object(d["c"])(n));case 12:u.next=17;break;case 14:u.prev=14;u.t0=u["catch"](0);console.log("ERROR in get Edv offer saga call",u.t0);case 17:u.prev=17;u.next=20;return Object(c["b"])(Object(x["J"])(false));case 20:return u.finish(17);case 21:case"end":return u.stop()}},_,this,[[0,14,17,21]])}function B(e){var t;return a.a.wrap(function r(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return Object(c["a"])(f["API"].post,f["apiRegistry"].buildApiUrl(h["p"]),e);case 3:t=n.sent;n.next=9;break;case 6:n.prev=6;n.t0=n["catch"](0);console.log("ERROR in set favourite Items saga call",n.t0);case 9:case"end":return n.stop()}},E,this,[[0,6]])}function L(){return a.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.prev=0;t.next=3;return Object(c["d"])(h["e"],D);case 3:t.next=5;return Object(c["d"])(h["g"],q);case 5:t.next=7;return Object(c["d"])(h["a"],N);case 7:t.next=9;return Object(c["d"])(h["b"],M);case 9:t.next=11;return Object(c["d"])(h["p"],B);case 11:t.next=16;break;case 13:t.prev=13;t.t0=t["catch"](0);console.log("ERROR on Menu page saga",t.t0);case 16:case"end":return t.stop()}},P,this,[[0,13]])}},951:function(e,t,r){e.exports=r(952)},952:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(198);r.d(t,"default",function(){return n["a"]})}},[951]);return{page:e.default}});